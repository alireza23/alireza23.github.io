<!DOCTYPE html>
<html>

<head>
    <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <meta charset=utf-8 />
    <title>Avinash</title>

    <style>
        body {
            margin: 0px;
            padding: 0px;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <script>
        window.onload = function() {
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            var width = window.innerWidth;
            var height = window.innerHeight;
            canvas.height = height;
            canvas.width = width;
            canvas.addEventListener('mousedown', function(e) {
                this.down = true;
                this.X = e.pageX;
                this.Y = e.pageY;
                ctx.shadowBlur = 4;
                ctx.shadowOffsetX = 2;
                ctx.shadowOffsetY = 2;
                ctx.shadowColor = "black";
                ctx.beginPath();
                ctx.moveTo(this.X, this.Y);
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.lineWidth = 10;
                ctx.strokeStyle = '#9b59b6';

                // this.color = rgb();
            }, 0);
            canvas.addEventListener('mouseup', function() {
                this.down = false;
            }, 0);
            canvas.addEventListener('mousemove', function(e) {
                this.style.cursor = 'pointer';
                if (this.down) {
                    ctx.lineTo(e.pageX, e.pageY);
                    ctx.stroke();
                    this.X = e.pageX;
                    this.Y = e.pageY;
                }
            }, 0);
            canvas.addEventListener('touchstart', function(e) {
                console.log(e)
                e.preventDefault()
                this.down = true;
                this.X = e.touches[0].pageX;
                this.Y = e.touches[0].pageY;
                ctx.shadowBlur = 2;
                ctx.shadowOffsetX = 1;
                ctx.shadowOffsetY = 1;
                ctx.shadowColor = "black";
                ctx.beginPath();
                ctx.moveTo(this.X, this.Y);
                ctx.lineCap = 'round';
                ctx.lineJoin = 'round';
                ctx.lineWidth = 5;
                ctx.strokeStyle = '#9b59b6';

            }, 0);
            canvas.addEventListener('touchend', function() {
                this.down = false;
                e.preventDefault()
            }, 0);
            canvas.addEventListener('touchmove', function(e) {
                this.style.cursor = 'pointer';
                e.preventDefault()
                if (this.down) {
                    ctx.lineTo(e.touches[0].pageX, e.touches[0].pageY);
                    ctx.stroke();
                    this.X = e.touches[0].pageX;
                    this.Y = e.touches[0].pageY;
                }
            }, 0);
        };
    </script>
</body>

</html>