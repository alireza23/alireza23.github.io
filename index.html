<!DOCTYPE html>
<html>

<head>
    <script class="jsbin" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
    <meta charset=utf-8 />
    <title>Avinash</title>

    <style>
        body {
            margin: 0px;
            padding: 0px;
            overflow: hidden;
        }
    </style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <script>
        window.onload = function() {
            var canvas = document.getElementById('canvas');
            var ctx = canvas.getContext('2d');
            ctx.lineCap = 'round';
            ctx.lineJoin = 'round';

            var width = window.innerWidth;
            var height = window.innerHeight;
            canvas.height = height;
            canvas.width = width;
            canvas.addEventListener('mousedown', function(e) {
                this.down = true;
                this.X = e.pageX;
                this.Y = e.pageY;
                // this.color = rgb();
            }, 0);
            canvas.addEventListener('mouseup', function() {
                this.down = false;
            }, 0);
            canvas.addEventListener('mousemove', function(e) {
                this.style.cursor = 'pointer';
                if (this.down) {
                    ctx.beginPath();
                    ctx.moveTo(this.X, this.Y);
                    ctx.lineCap = 'round';
                    ctx.lineJoin = 'round';
                    ctx.lineWidth = 10;
                    ctx.lineTo(e.pageX, e.pageY);
                    ctx.strokeStyle = '#9b59b6';
                    ctx.stroke();

                    this.X = e.pageX;
                    this.Y = e.pageY;
                }
            }, 0);
            canvas.addEventListener('touchstart', function(e) {
                console.log(e)
                e.preventDefault()
                this.down = true;
                this.X = e.touches[0].pageX;
                this.Y = e.touches[0].pageY;
                // this.color = rgb();
            }, 0);
            canvas.addEventListener('touchend', function() {
                this.down = false;
                e.preventDefault()
            }, 0);
            canvas.addEventListener('touchmove', function(e) {
                this.style.cursor = 'pointer';
                e.preventDefault()
                if (this.down) {
                    ctx.beginPath();
                    ctx.moveTo(this.X, this.Y);
                    ctx.lineCap = 'round';
                    ctx.lineJoin = 'round';
                    ctx.lineWidth = 10;
                    ctx.lineTo(e.touches[0].pageX, e.touches[0].pageY);
                    ctx.strokeStyle = '#9b59b6';
                    ctx.stroke();

                    this.X = e.touches[0].pageX;
                    this.Y = e.touches[0].pageY;
                }
            }, 0);

            // function rgb() {
            //     color = 'rgb(';
            //     for (var i = 0; i < 3; i++) {
            //         color += Math.floor(Math.random() * 255) + ',';
            //     }
            //     return color.replace(/\,$/, ')');
            // }
        };
    </script>
</body>

</html>